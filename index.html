<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>llava Record</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      
      .container {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        padding: 3rem;
        max-width: 1000px;
        width: 95%;
        min-height: 900px;
        transition: all 0.3s ease;
      }
      
      .initial-screen {
        text-align: center;
      }
      
      .recording-screen {
        display: none;
      }
      
      h1 {
        color: #2d3748;
        font-size: 2.5rem;
        margin-bottom: 2rem;
        font-weight: 600;
      }
      
      .record-btn {
        background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        color: white;
        border: none;
        border-radius: 50px;
        padding: 1rem 2rem;
        font-size: 1.2rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(238, 90, 36, 0.3);
      }
      
      .record-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(238, 90, 36, 0.4);
      }
      
      .title-input {
        width: 100%;
        border: none;
        outline: none;
        font-size: 1.8rem;
        font-weight: 600;
        color: #2d3748;
        background: transparent;
        margin-bottom: 0;
        padding: 0.5rem 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        resize: none;
        overflow: hidden;
        line-height: 1.2;
      }
      
      .title-input::placeholder {
        color: #a0aec0;
      }
      
      .notes-input {
        width: 100%;
        border: none;
        outline: none;
        font-size: 1rem;
        color: #4a5568;
        background: transparent;
        resize: none;
        min-height: 300px;
        font-family: inherit;
        line-height: 1.6;
      }
      
      .notes-input::placeholder {
        color: #a0aec0;
      }
      
      .recording-controls {
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        margin-bottom: 2rem;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      
      .transcript-content-wrapper {
        width: 0;
        height: 0;
        overflow: hidden;
        background: #f7fafc;
        border-radius: 20px 20px 0 0;
        box-shadow: 4px 0 12px rgba(0,0,0,0.15), -4px 0 12px rgba(0,0,0,0.15);
        transition: all 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
        order: 1;
      }
      
      .recording-controls.transcript-open .transcript-content-wrapper {
        width: 480px;
        height: 380px;
      }
      
      .controls-row {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1.25rem;
        padding: 0.5rem 1.5rem;
        height: 50px;
        background: #f7fafc;
        border-radius: 30px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
        order: 2;
      }
      
      .recording-controls.expanded .controls-row {
        width: auto;
        min-width: 140px;
      }
      
      .recording-controls.transcript-open .controls-row {
        width: 480px;
        border-radius: 0 0 20px 20px;
      }
      
      .audio-visualizer {
        display: flex;
        align-items: center;
        gap: 3px;
        cursor: pointer;
        padding: 0.5rem 1rem 0.5rem 1rem;
        border-radius: 15px;
        transition: background-color 0.3s ease;
        height: 30px;
        position: relative;
      }
      
      .audio-visualizer:hover {
        background-color: rgba(102, 126, 234, 0.1);
      }
      
      .audio-visualizer::after {
        content: 'â–²';
        margin-left: 6px;
        font-size: 10px;
        color: #718096;
        transition: transform 0.1s ease;
      }
      
      .recording-controls.transcript-open .audio-visualizer::after {
        transform: rotate(180deg);
      }
      
      .audio-bar {
        width: 3px;
        background: linear-gradient(to top, #667eea, #764ba2);
        border-radius: 1.5px;
        transition: height 0.3s ease;
      }
      
      .audio-bar.recording {
        animation: audioWave 1.5s ease-in-out infinite;
      }
      
      .audio-bar:nth-child(1) { height: 8px; }
      .audio-bar:nth-child(2) { height: 16px; }
      .audio-bar:nth-child(3) { height: 8px; }
      
      .audio-bar.recording:nth-child(1) { animation-delay: 0s; }
      .audio-bar.recording:nth-child(2) { animation-delay: 0.3s; }
      .audio-bar.recording:nth-child(3) { animation-delay: 0.6s; }
      
      @keyframes audioWave {
        0%, 100% { height: 6px; opacity: 0.5; }
        50% { height: 20px; opacity: 1; }
      }
      
      .stop-btn {
        width: 28px;
        height: 28px;
        background: #e53e3e;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        position: relative;
        transition: all 0.3s ease;
      }
      
      .stop-btn:hover {
        background: #c53030;
        transform: scale(1.05);
      }
      
      .stop-btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 10px;
        height: 10px;
        background: white;
        border-radius: 1px;
        transform: translate(-50%, -50%);
      }
      
      .resume-text {
        color: #38a169;
        font-weight: 600;
        font-size: 0.85rem;
        white-space: nowrap;
      }
      
      .transcript-content-wrapper {
        width: 480px;
        height: 0;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transform-origin: bottom center;
        transition: all 0.15s cubic-bezier(0.34, 1.56, 0.64, 1);
      }
      
      .recording-controls.transcript-open .transcript-content-wrapper {
        height: 380px;
      }
      
      .transcript-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 1.5rem;
        border-bottom: 1px solid #e2e8f0;
        flex-shrink: 0;
      }
      
      .transcript-title {
        font-size: 0.8rem;
        font-weight: 600;
        color: #2d3748;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .header-icons {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }
      
      .header-icon {
        width: 20px;
        height: 20px;
        cursor: pointer;
        color: #718096;
        transition: color 0.2s ease;
        position: relative;
      }
      
      .header-icon:hover {
        color: #4a5568;
      }
      
      .copy-icon {
        display: block;
      }
      
      .settings-icon {
        display: block;
      }
      
      .settings-icon.hidden {
        display: none;
      }
      
      .settings-dropdown {
        position: absolute;
        top: 100%;
        right: 0;
        background: white;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        padding: 1rem;
        width: 260px;
        display: none;
        z-index: 1100;
        border: 1px solid #e2e8f0;
        cursor: default;
      }
      
      .settings-dropdown.show {
        display: block;
      }
      
      .audio-section {
        margin-bottom: 1rem;
      }
      
      .audio-label {
        font-size: 0.75rem;
        color: #718096;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 0.5rem;
      }
      
      .audio-device {
        font-size: 0.85rem;
        font-weight: 600;
        color: #2d3748;
        margin-bottom: 0.75rem;
      }
      
      .audio-level-container {
        margin-bottom: 1rem;
      }
      
      .audio-level-label {
        font-size: 0.75rem;
        color: #718096;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 0.5rem;
      }
      
      .audio-level-bars {
        display: flex;
        gap: 3px;
        align-items: flex-end;
        height: 12px;
        width: 100%;
      }
      
      .audio-level-bar {
        flex: 1;
        background: #e2e8f0;
        border-radius: 6px;
        transition: background-color 0.1s ease;
        width: 12px;
        height: 6px;
      }
      
      .audio-level-bar.active {
        background: #48bb78;
      }
      
      .sound-settings-btn {
        background: #667eea;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 0.5rem 0.75rem;
        font-size: 0.75rem;
        font-weight: 600;
        cursor: pointer;
        width: 100%;
        transition: background-color 0.2s ease;
      }
      
      .sound-settings-btn:hover {
        background: #5a67d8;
      }
      
      .transcript-content {
        flex: 1;
        padding: 1.5rem;
        overflow-y: auto;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-size: 0.9rem;
        line-height: 1.5;
        color: #4a5568;
        white-space: pre-wrap;
      }
      
      .transcript-content:empty::before {
        content: "Transcript will appear here...";
        color: #a0aec0;
        font-style: italic;
      }
      
      .close-transcript {
        background: none;
        border: none;
        font-size: 1.2rem;
        cursor: pointer;
        color: #718096;
        padding: 0;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.2s ease;
      }
      
      .close-transcript:hover {
        background-color: #f7fafc;
      }
      
      .transcript-content {
        flex: 1;
        padding: 1rem 1.5rem;
        overflow-y: auto;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        font-size: 0.9rem;
        line-height: 1.5;
        color: #4a5568;
        white-space: pre-wrap;
      }
      
      .transcript-content:empty::before {
        content: "Transcript will appear here...";
        color: #a0aec0;
        font-style: italic;
      }
      
      
      .divider {
        border: none;
        border-top: 1px solid #e2e8f0;
        margin: 0.5rem 0 1.5rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Initial Screen -->
      <div class="initial-screen" id="initialScreen">
        <h1>llava Record</h1>
        <button class="record-btn" id="recordBtn">Record</button>
      </div>
      
      <!-- Recording Screen -->
      <div class="recording-screen" id="recordingScreen">
        <textarea class="title-input" id="titleInput" placeholder="Untitled recording" rows="1"></textarea>
        <hr class="divider" />
        <textarea class="notes-input" id="notesInput" placeholder="Write notes..."></textarea>
        
        <div class="recording-controls" id="recordingControls">
          <div class="controls-row" id="controlsRow">
            <div class="audio-visualizer" id="audioVisualizer">
              <div class="audio-bar"></div>
              <div class="audio-bar"></div>
              <div class="audio-bar"></div>
            </div>
            <button class="stop-btn" id="stopBtn"></button>
          </div>
          
          <div class="transcript-content-wrapper" id="transcriptContentWrapper">
            <div class="transcript-header">
              <div class="transcript-title">Transcript</div>
              <div class="header-icons">
                <div class="header-icon settings-icon" id="settingsIcon">
                  <svg viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
                  </svg>
                  <div class="settings-dropdown" id="settingsDropdown">
                    <div class="audio-section">
                      <div class="audio-label">Audio Input</div>
                      <div class="audio-device" id="audioDevice">Loading...</div>
                    </div>
                    <div class="audio-level-container">
                      <div class="audio-level-label">Input Level</div>
                      <div class="audio-level-bars" id="audioLevelBars">
                        <div class="audio-level-bar"></div>
                        <div class="audio-level-bar"></div>
                        <div class="audio-level-bar"></div>
                        <div class="audio-level-bar"></div>
                        <div class="audio-level-bar"></div>
                        <div class="audio-level-bar"></div>
                        <div class="audio-level-bar"></div>
                        <div class="audio-level-bar"></div>
                      </div>
                    </div>
                    <button class="sound-settings-btn" id="soundSettingsBtn">Sound Settings</button>
                  </div>
                </div>
                <div class="header-icon copy-icon" id="copyIcon">
                  <svg class="copy-svg" viewBox="0 0 24 24" fill="currentColor">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z"/>
                  </svg>
                  <svg class="checkmark-svg" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                  </svg>
                </div>
              </div>
            </div>
            <div class="transcript-content" id="transcriptContent"></div>
          </div>
        </div>
      </div>
    </div>
    
    <script src="renderer.js"></script>
  </body>
</html> 